{"title":"Missing Data","markdown":{"yaml":{"title":"Missing Data"},"headingText":"Marking Missingness","containsRefs":false,"markdown":"\n\n\nData sources use various methods to missing data. You might see \"NA\", \"NULL\", \"none\", etc.; pandas' `read_csv` automatically recognizes many of these as missing values. But sometimes datasets use different encodings.\n\nFor example, sometimes a dataset will use a large positive or negative value. You should expect to find this in the data dictionary, although you occasionally need to make an educated guess (document your reasoning!).\n\nTwo approaches to handling this:\n\n1. Tell [`read_csv`](https://pandas.pydata.org/docs/reference/api/pandas.read_csv.html) what specific values indicate missing values in your dataset. For example, `read_csv('data.csv', na_values=['-9999'])` will treat `-9999` as a missing value.\n2. Use [`replace`](https://pandas.pydata.org/docs/reference/api/pandas.Series.replace.html#pandas.Series.replace) to replace the missing values with `np.nan` after reading in the data. For example, `df_with_missingness_marked = df.replace(-9999, np.nan)` will replace `-9999` with `np.nan` in the DataFrame `df`. (Note that this applies to the entire DataFrame, not just a single column. Usually it's cleaner to handle each column separately. For example, `df['column_name'] = df['column_name'].replace(-9999, np.nan)` will replace `-9999` with `np.nan` in the column `column_name` of the DataFrame `df`.)\n\n# Do I have any missing values?\n\nUse `df.info()` to get an overview of data types and missing values.\n\n# Handling missingness\n\n1. Figure out *how big of a problem* you have. How many missing values are there? Are they concentrated in a few columns, or spread out? Are they missing at random, or is there a pattern? Report your findings.\n2. Drop or interpolate.\n\nOften, missing values will get dropped implicitly, either by a numerical operation or by a plotting function. For example, `df['column_name'].mean()` will ignore missing values. And Plotly will often silently drop data with missing values in any of the columns you're plotting.\n\nSo, even if you're not explicitly dropping missing values, you need to analyze for missingness.\n\nApproaches:\n\n1. Drop rows with missing values -- and count how many rows got dropped.\n2. Make a new variable for whether another variable was missing. E.g., `df['age_was_missing']'] = df['age'].isnull()`. Then you can do all your EDA on the new variable, and report how many missing values there were and whether there are any patterns (e.g., are there groups of people who are more likely to have missing values?)","srcMarkdownNoYaml":"\n\n# Marking Missingness\n\nData sources use various methods to missing data. You might see \"NA\", \"NULL\", \"none\", etc.; pandas' `read_csv` automatically recognizes many of these as missing values. But sometimes datasets use different encodings.\n\nFor example, sometimes a dataset will use a large positive or negative value. You should expect to find this in the data dictionary, although you occasionally need to make an educated guess (document your reasoning!).\n\nTwo approaches to handling this:\n\n1. Tell [`read_csv`](https://pandas.pydata.org/docs/reference/api/pandas.read_csv.html) what specific values indicate missing values in your dataset. For example, `read_csv('data.csv', na_values=['-9999'])` will treat `-9999` as a missing value.\n2. Use [`replace`](https://pandas.pydata.org/docs/reference/api/pandas.Series.replace.html#pandas.Series.replace) to replace the missing values with `np.nan` after reading in the data. For example, `df_with_missingness_marked = df.replace(-9999, np.nan)` will replace `-9999` with `np.nan` in the DataFrame `df`. (Note that this applies to the entire DataFrame, not just a single column. Usually it's cleaner to handle each column separately. For example, `df['column_name'] = df['column_name'].replace(-9999, np.nan)` will replace `-9999` with `np.nan` in the column `column_name` of the DataFrame `df`.)\n\n# Do I have any missing values?\n\nUse `df.info()` to get an overview of data types and missing values.\n\n# Handling missingness\n\n1. Figure out *how big of a problem* you have. How many missing values are there? Are they concentrated in a few columns, or spread out? Are they missing at random, or is there a pattern? Report your findings.\n2. Drop or interpolate.\n\nOften, missing values will get dropped implicitly, either by a numerical operation or by a plotting function. For example, `df['column_name'].mean()` will ignore missing values. And Plotly will often silently drop data with missing values in any of the columns you're plotting.\n\nSo, even if you're not explicitly dropping missing values, you need to analyze for missingness.\n\nApproaches:\n\n1. Drop rows with missing values -- and count how many rows got dropped.\n2. Make a new variable for whether another variable was missing. E.g., `df['age_was_missing']'] = df['age'].isnull()`. Then you can do all your EDA on the new variable, and report how many missing values there were and whether there are any patterns (e.g., are there groups of people who are more likely to have missing values?)"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"markdown"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true,"format-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../styles.css"],"toc":true,"toc-depth":4,"output-file":"missing.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.3.450","theme":"yeti","toc_float":true,"toc-expand":4,"title":"Missing Data"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}