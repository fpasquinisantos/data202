---
title: "Guided Exercise 2: Plotting"
output: 
  tufte::tufte_html:
    css: ../ex.css
    tufte_variant: "envisioned"
    highlight: pygments
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(scales)
library(gapminder)
```

## Goals

* Make a basic plot using `ggplot`
* Practice with the RStudio+GitHub workflow and our Portfolio repository

## Getting Started

Instead of a new repo for each assignment, we'll be using a **portfolio repo** for this and most future assignments.

If you haven't yet done so for [Homework 1](../../hw/hw01/hw01-warmup-inst.html), **clone your portfolio repo**: 

<!-- for next time: Take refined instructions from ex03. Maybe use the portfolio repo from the very beginning? -->

- Find your **portfolio repo** in our [GitHub org](https://github.com/Calvin-DS202-21FA).
  - **Don't see it?** Look for an "invite" email from GitHub. It'll be the email address that you gave GitHub, which might be your personal email.
- Clone it as a new project (see [Exercise 1](../../ex/ex01/ex01-github.html) starting at "New Project" for a reminder of the steps; thankfully you *don't* need to do the SSH key setup again!)

If you already cloned your portfolio repo, you'll need to **Pull** in the Git tab to get the new code. **Always make sure your Git pane shows no files changed** before Pulling.

Either way:

- Find `ex02/ex02-plotting.Rmd` in your *portfolio* repo. Open it in RStudio (you may need to navigate in the Files tab to find it). If you're having trouble accessing or finding it, ask for help!
- Change the title to "Exercise 2: Plotting" and change the author name to your name, and Knit it to make sure everything works.

`r emo::ji("white_check_mark")` `r emo::ji("arrow_up")` *Now is a good time to commit and push your changes to GitHub with an appropriate commit message. Make sure to commit and push all changed files so that your Git pane is cleared up afterwards.*

## Making the health-and-wealth plot

Here is the code for the plot shown in class on Wednesday:

```{r health-and-wealth, fig.show='hide'}
# start with data from the Gapminder package
gapminder %>%
  # include only rows where ...
  filter(year == 2007) %>% 
  ggplot() +
    aes(x = gdpPercap, y = lifeExp) +
    geom_point(alpha = .6) + 
    coord_cartesian(ylim = c(20, 90)) + 
    aes(color = continent) +
    aes(size = pop) + 
    labs(x = "GDP per Capita", y = "Life Expectancy (years)") +
    labs(color = "Continent", size = "Population") +
    scale_x_continuous(breaks = c(400, 4000, 40000), trans = "log10") +
    scale_size_area(labels = label_comma()) +
    theme_bw() + 
    annotation_logticks(sides = "b")
```

For each line:

  - Type it in. Omit the ` %>% ` or `+` at the end of a line until you're ready to enter the next line.
  
    - Practice using tab completion and the keyboard shortcut `Ctrl-Shift-M` to enter the ` %>% ` (pipe), which we'll learn about next week.
    
    - Look up the Help for a few of the functions by clicking on the function name and then pressing the `F1` key.
  
  - Run the chunk. Observe what changed from what was there before.

  - Write a comment about what that line does. The first 1.5 comments are written for you.
  
`r emo::ji("white_check_mark")` `r emo::ji("arrow_up")` Knit, Commit, and Push again. Ensure your Git pane is clean.

Then, duplicate your code chunk (change the name!) and try these extensions:

- Change the year to your birth year or another interesting year in history. Note: here are the available years:

```{r}
unique(gapminder$year)
```


- Try combining the `aes` lines together into a single `aes` command (with commas between the parts). Then try the same for the `labs`.

- Use commas in the `x` axis labels. (Find the part that adds commas to the `scale` for `area`. Use the same `labels` code in the part that already customizes other aspects of the `scale` for `x`.)

- Try some other [themes](https://ggplot2.tidyverse.org/reference/ggtheme.html). (at least try `theme_gray`, `theme_classic`, and `theme_minimal`).

`r emo::ji("white_check_mark")` `r emo::ji("arrow_up")` Knit, Commit, and Push again. Ensure your Git pane is clean.

## Tutorials

Once you finish the above, you can start working through some of RStudio's visualization tutorials:

- [Data Vis Basics](https://rstudio.cloud/learn/primers/1.1)
- [Different types of plots](https://rstudio.cloud/learn/primers/3)

## Cheatsheets

- the datavis [cheat sheet](https://raw.githubusercontent.com/rstudio/cheatsheets/master/data-visualization-2.1.pdf)
- [all cheat sheets](https://rstudio.cloud/learn/cheat-sheets)
