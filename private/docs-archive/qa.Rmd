---
title: "Q&A Misc"
author: "K Arnold"
date: "9/21/2021"
output:
  html_document:
    toc: true
    toc_depth: 3
    toc_float: true
---

I'm going to set some options here so these Q&As look like what you'd type at the R console. [docs](https://bookdown.org/yihui/rmarkdown-cookbook/opts-comment.html)

```{r message=FALSE}
knitr::opts_chunk$set(comment = "", prompt = TRUE)
library(tidyverse)
```

## R / RStudio stuff

### What does the `[1]` mean?

R is unusual compared to many other programming languages: most values are actually length-1 lists:

```{r}
1
```

When we have a big list, R spreads it out over multiple lines:

```{r}
numbers <- 1:50
numbers
```

Notice that the number in brackets is the index of the first value on that line:

```{r}
numbers[26]
```

If you don't want that, you can use `cat`:

```{r}
cat(numbers)
```

### `unique()` vs `distinct()`

`distinct()` operates on data frames.

```{r}
diamonds %>% distinct(cut)
```

`unique` operates on vectors.

```{r}
# Same as: diamonds$cut %>% unique()
diamonds %>% pull(cut) %>% unique()
```


`distinct()` can do combinations.

```{r}
diamonds %>% distinct(cut, color)
```

### `mutate()` vs `summarize()`

- Use `mutate` when you want the same number of rows but new columns.
- Use `summarize` when you want to change the number of rows (e.g., when counting things)

Example:

```{r}
diamonds %>% select(cut, price)
```

`summarize` reduces a bunch of rows down to a single row, in this case the overall average price. (Usually this is most useful when you have a `group_by` before it, in which case you get a row per group.)

```{r}
diamonds %>% 
  select(cut, price) %>% 
  summarize(mean(price))
```

`mutate` adds a column, in this case, the overall average price. This is most useful when you want to compare things to an overall average or the like.

```{r}
diamonds %>% 
  select(cut, price) %>% 
  mutate(mean_price = mean(price), price_ratio = price / mean_price)
```
Here's what they look like when grouping.

```{r}
diamonds %>% 
  select(cut, price) %>% 
  group_by(cut) %>% 
  summarize(mean(price))
```

Compare that table with this one:

```{r}
diamonds %>% 
  select(cut, price) %>% 
  group_by(cut) %>% 
  mutate(mean_price = mean(price), price_ratio = price / mean_price)
```



### What programming language is RStudio?

Natively, R. But you can actually run Python code too with the help of a package called `reticulate`; you just put `python` instead of `r` at the top of a code chunk. See the [cheat sheet](https://raw.githubusercontent.com/rstudio/cheatsheets/master/reticulate.pdf)

### Does saving things on GitHub also save it to your computer?

No, you need to Pull to get any changes from GitHub. I recommend doing all of your edits on RStudio and pushing to GitHub.

## Git / GitHub stuff

### Can you trace the history back to the original commit?

Yes! You can click the History button in RStudio, or go to a GitHub commits page ([example](https://github.com/tidyverse/ggplot2/commits/master)) and keep clicking Older.

## Database / SQL stuff

### How popular is SQL in industry?

Very. It makes most top-10 lists.

### How big of a dataset can I manage in R before having to go to SQL?

- How much *memory* (RAM) does your computer have? (Can you just pay for more?)
- Can you avoid working with some data altogether? (e.g., keep only a few columns you need)
- Can you work with data "out of core" (on disk instead of memory)? e.g., R `vroom` package

Rules of thumb:

- less than a GB: your laptop, comfortably
- up to a couple GB: your laptop, carefully
- 10+ GB: a server or big desktop machine, comfortably
- 50+ GB: a server or big desktop machine, carefully
- 100+ GB: several servers, e.g., clusters.
