---
title: "Python test"
format: html
jupyter: python3
---

```{r}
library(reticulate)
options(reticulate.engine.wrap = function(outputs, options) {
   print("Wrap")
   # take this opportunity to clear matplotlib figure if appropriate
   plt <- reticulate::import("matplotlib.pyplot", convert = TRUE)
   plt$clf()
   
   # return outputs
   stop()
   paste0(outputs, "BOO")
   
})

```


```{python}
import numpy as np
import pandas as pd
import seaborn.objects as so
import matplotlib.pyplot as plt
from sklearn.datasets import make_circles
from sklearn.neighbors import KNeighborsClassifier

# make a demo dataset
X, y = make_circles(n_samples=1000, noise=0.1, factor=0.5)
df = pd.DataFrame(X, columns=['x1', 'x2'])
```


```{python}
import plotly.express as px
px.scatter(x=[0, 1, 2, 3, 4], y=[0, 1, 4, 9, 16])#.show()
```

```{python}
# now plot the demo dataset
#px.scatter(df, x='x1', y='x2').show()
plt.scatter(df.x1, df.x2)
#so.Plot(df, x='x1', y='x2').add(so.Dot()).on(plt.gcf()).plot()
plt.show()
```

```{python}
1+1
```

